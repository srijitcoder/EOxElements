<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://eox.at/fonts/roboto/roboto.css" rel="stylesheet" />
    <title>eox-itemfilter dev playground</title>
  </head>
  <body>
    <eox-itemfilter></eox-itemfilter>
    <eox-itemfilter-inline id="filterableDropdown"></eox-itemfilter-inline>
    <script type="module">
      import "./src/main.ts";
      import "./src/inline.ts";
      import "https://unpkg.com/@eox/map@latest/dist/eox-map.js";
      import items from "./test/testItems.json" assert { type: "json" };

      const EOxItemFilter = document.querySelector("eox-itemfilter");

      const config = {
        titleProperty: "title",
        filterProperties: [
          {
            keys: ["title", "description", "themes", "region"],
            title: "Search",
            type: "text",
            expanded: true,
            featured: true,
          },
          // { key: 'themes', title: 'Theme' },
          { key: "tags", title: "Tag" },
          { key: "satellite", title: "Satellite" },
          { key: "sensor", title: "Sensor" },
          { key: "countries", title: "Country" },
          { key: "cities", title: "City" },
        ],
        aggregateResults: "themes",
        enableHighlighting: true,
        onSelect: (item) => {
          this.setSelectedIndicator(item);
        },
      };
      EOxItemFilter.config = config;

      const dropdown = document.getElementById("filterableDropdown");
      dropdown.options = config.filterProperties;

      EOxItemFilter.apply(items);
      // EOxItemFilter.styleOverride = `
      //   input[type=checkbox]#agriculture:after {
      //     content: "foo";
      //   }
      //   input[type=checkbox]#agriculture:checked:after {
      //     content: "bar";
      //   }
      // `;
      // setTimeout(async () => {
      //   console.log(EOxItemFilter._filters)
      //   EOxItemFilter._filters.themes.state.air = true
      //   EOxItemFilter.search()
      // }, 3000);
    </script>
  </body>
</html>
